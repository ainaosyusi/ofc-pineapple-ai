# OFC Pineapple AI 開発プロジェクト：最終報告と今後の展望

## プロジェクトの軌跡

約1週間にわたる開発で、OFC Pineapple AIプロジェクトは「全くのゼロ」から「MCTSによる思考を行うAI」まで進化しました。

本プロジェクトの主要な成果をここにまとめます。

---

## 4つのマイルストーン

### 1. 基盤構築：C++エンジンと強化学習環境
- **C++ Bitboard エンジン**: 高速な役判定とシミュレーションを実現
- **Gymnasium環境**: AIが学習できる標準的なインターフェースの構築
- **MaskablePPO**: ポーカー特有の「無効な手」を効率的に処理するアルゴリズムの採用

### 2. AWS クラウド学習のスケール
- **EC2 + Docker**: 24時間連続稼働の学習インフラを構築
- **Curriculum Learning**: 「ファウル回避 → 利得最大化」の段階的学習により、学習の壁を突破
- **Self-Play**: 自分のコピーと戦うことで、対戦戦略を自己獲得

### 3. MCTS「思考」エンジンの完成
- **C++ Serialization**: 任意のゲーム局面をコピーして先読みする機能を実装
- **Endgame Solver**: 残り5枚以下で「完全な正解」を導き出すソルバー
- **Policy-guided Rollout**: AIの「直感」を使って将来をシミュレーションし、精度を飛躍的に向上

### 4. 特徴量エンジニアリング
- **確率計算エンジン**: フラッシュやストレートの完成確率をC++でリアルタイム計算
- **観測空間の拡張**: 期待値に基づいたより高度な判断が可能に
- **Auto-Curriculum**: 学習結果をAIが自己分析し、フィードバックを行うシステムを構築

---

## 最終的な成果（Phase 3 & Enhanced 途中経過）

現在、AWS上で進行中の学習では、以下の結果が得られています。

| 指標 | 初期状態 | Phase 3 (710K) | **Enhanced (New!)** |
| :--- | :--- | :--- | :--- |
| **ファウル率** | 87.5% | **59.5%** | **Learning...** |
| **勝率** | 0% | **31.8%** | **Learning...** |
| **平均スコア** | -30.0 | **-5.4** | **Learning...** |

※ 強化版AI (Enhanced) は、確率特徴量とMCTS先読みデータを活用し、さらなる高みを目指しています。

---

※ 学習は現在も進行中であり、10Mステップに向けてさらなる向上が期待されます。

---

## 開発を通じて得られた知見

1. **ポーカーAIに「思考（Search）」は必須**
   - 直感だけでプレイすると、どうしても「終盤の詰め」が甘くなります。MCTSと終盤ソルバーの導入により、この問題は解決しました。
2. **インフラの自動化が開発速度を加速させる**
   - DockerとDiscord通知により、研究者は「実験の監視」ではなく「コードの改善」に集中できました。
3. **ドメイン知識の重要性**
   - 役の完成確率などの統計情報を特徴量として与えることで、AIの学習効率が大幅に向上しました。

---

## 今後の展望：AlphaOFC への道

本プロジェクトはここで終わりではありません。次は以下のステップを検討しています：

1. **Progressive Fantasy Land への完全対応**
   - ジョーカーを含む、より複雑なルールの実装（Phase 4）
2. **Value Network の導入**
   - ロールアウトを行わず、現在の盤面の勝率を直接予測するネットワークの構築
3. **モバイル/Webフロントエンド開発**
   - 開発した最強のAIと実際に対戦できるインターフェースの提供

---

## 謝辞

このプロジェクトに関わってくださった皆様、そして強化学習の歴史を築いてきた先人たちに深く感謝します。

**「AIにポーカーを教えることはできたか？」**
その答えは、今もAWS上で回り続けているコードの中にあります。

---

*2026年1月15日 - OFC Pineapple AI 開発チーム*
